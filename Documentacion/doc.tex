\documentclass[10pt,a4paper]{book}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{makeidx}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage[spanish]{babel}
\author{Ivan Leonardo Galeano S.}
\title{Estudio Estadística}


\newtheorem{defi}{\textbf{Definición}}

\newcommand{\HRule}[1]{\rule{\linewidth}{#1}}

\makeatletter
\def\printtitle{
	{\centering \@title\par}}
\makeatother

\makeatletter
\def\printauthor{
	{\centering \large \@author}}
\makeatother




\title{	\normalsize \textsc{Documentación}
	\\[2.0cm]
	\HRule{0.5pt} \\
	\LARGE \textbf{\uppercase{Proyecto Go Analytics}}
	\HRule{2pt} \\ [0.5cm]
	\normalsize \today
}

\author{
	Ivan Leonardo Galeano Saavedra\\
	Networks Lab.\\
	Bogotá, Colombia\\
	\texttt{ilgaleanos@gmail.com} \\
}



\begin{document}
	\thispagestyle{empty}
	\printtitle
	\vfill
	\printauthor

	\tableofcontents

	\chapter{Motivaciones, lenguajes y otros.}

	\section*{Introducción}
	
	El presente texto es un intento de exponer de la manera más clara, sencilla y concreta el código referente a Go Analytics, también llamado talenter o gogo para el equipo de desarrollo. Está realizado casi en su totalidad en código pyhton en su versión 2.7.x y django 1.8.x; algunas partes como veremos están escritas en código C++ compilado para python. De la misma manera de la parte del usuario se usó javascript con jquery y librerías estándar para diversas funcionalidades.\\
	
	Esta es la segunda y actual versión del código ya que inicialmente se tenia uno más sencillo, aunque funcional, el cual por innumerables cambios de requerimientos se hizo inmanejable. Tratando de mantener una filosofía mas modular, se elaboró esta versión pensando en un gogo sin características 360. Las características 360 se agregaron como módulos adicionales tratando de mantener el código que se había escrito sin modificaciones en miras a la estabilidad y teniendo a la aplicación usuarios prácticamente sin cambios notables.\\
	
	Inicialmente se expondrá la arquitectura actual, versiones, requerimientos y demás paquetería necesaria. Se dedicará un capítulo para cada carpeta de código (app de django) en la cual se expondrá la necesidad, funcionalidad y errores probables de cada app. Para entender la arquitectura se recomienda un estudio juicioso de los models.py de cada una. Los errores no reportados a la fecha, significa que los usuarios que probaron la aplicación o no encontraron o no los reportaron.\\
	
	Nota personal: Espero que el desarrollador que trate con el código sea muy comprensivo a la hora de examinarlo ya que el fue desarrollado sin unos requerimientos detallados, sino con cada nueva versión, se solicitaban nuevas modificaciones sobre lo ya elaborado lo que ha conllevado en una no clara consecución de un código completamente estable.\\
	
	
	\section{Lenguajes.}
	El uso de este manual requiere conocimiento en Django 1.8, Python 2.7, C++11.
	El código ha sido escrito en lenguaje Python y C++
	\begin{verbatim}
		Python 2.7.6 (default, Jun 22 2015, 17:58:13) 
		[GCC 4.8.2] on linux2
	\end{verbatim}
	para el framework Django 
	\begin{verbatim}
		Django 1.8.13
	\end{verbatim}
	Javascript con JQuery 2.x.
	
	\section{Arquitectura.}
	En AWS poseemos 3 servicios:
	\begin{enumerate}
		\item EC2: 2 servidores, servidor nano para un servicio prestado a Slam Security (no hablaremos de ese proyecto en el manual) y servidor micro T2 con sistema operativo Ubuntu 14.04. 30 gb de almacenamiento y 1 Gb de memoria RAM.
		\item RDS: 1 Servidor T2 nano de base de datos en Postgresql de 5 Gb de almacenamiento y 1 Gb de memoria RAM, este servidor se inició por las previsiones de ventas del área comercial.
		\item SES: 1 conexión smtp de con capacidad de 100.000 correos en 24 horas a 28 correos/segundo.
	\end{enumerate}
	
	Las conexiones las realicé de la siguiente manera: La aplicación corre en un servidor apache
	\begin{verbatim}
		Server version: Apache/2.4.7 (Ubuntu)
		Server built:   Jan 14 2016 17:45:23
	\end{verbatim}
	para el cual los certificados ssl los generé por medio de Let's Encript \url{https://letsencrypt.org/getting-started/}. Estas claves ssl no están incluidas de forma explícita ya que poseen vencimientos de 3 meses y es altamente recomendable leer la documentación de este método de obtención y mantenimiento de claves ssl. Aunque por la filosofía empresarial manejada es recomendable regresar al estándar de certificado ssl anual.\\
	
	La aplicación se conecta localmente a una instancia de pgbouncer ( \textit{esto con la finalidad de mantener siempre una conexión abierta y evitar el overhead de estar abriendo conexiones}), aunque este paso es claramente no necesario.
	\begin{verbatim}
	pgbouncer version 1.5.4
	(compiled by <buildd@roseapple> at 2013-06-18 17:16:50)
	\end{verbatim}
	
	La clave de la conexión local con pgbouncer es
	\begin{verbatim}
		'USER': 'usuariodb_gogo',
		'PASSWORD':'W#y2d@uV4+eSPuwrEc$UTrE4eCruTHas',
	\end{verbatim}
	
	la clave de conexión de pgbouncer a la base de datos es
	\begin{verbatim}
	user=usuariodb_gogo
	password=W#y2d@uV4+eSPuwrEc$UTrE4eCruTHas
	\end{verbatim}
	
	El archivo de configuración apache2.conf, los sites-availables, gogo pgbouncer.ini al igual que el userlist.txt se encuentran en ./gogo/gogo/configs/ \\
	
	La base de datos contiene 3 bases de datos una llamada gogo perteneciente a esta aplicación, otra llamada talenter que no es mas que una copia incompleta de la primera y una tercera perteneciente a slam. Se cuentan con tres Group Roles y tres Login Roles uno para cada aplicación y un rol maestro (no superusuario, RDS no lo proporciona ) :
	\begin{verbatim}
	user=suidi 
	password=Networks123*
	\end{verbatim}
	
	Con respecto a la configuración de memoria cache se usa un servidor local de bases de datos en memoria Redis con configuración directa en los settings de django del lado del servidor.
	
	\begin{verbatim}
	CACHES = {
	  	'default':{
	  		'BACKEND':'redis_cache.RedisCache',
	  		'LOCATION':'127.0.0.1:6379',
	  		'OPTIONS':{
	  			'DB':2,
	  			'PASSWORD':'frec5epEbucHene27E4re6uspuT7ayus'
	  		},
	  	},
	 }
	\end{verbatim}
	
	
	Las claves de administración de dominios están bajo Juan Sebastián Henao P. y Ricardo Montoya Meneses.
	
	\section{Dependencias}
	
	Se deben instalar los siguientes paquetes para que la aplicación se ejecute según es debido:
	
	\begin{enumerate}
		\item gcc
		\item python-crypto
		\item python-psycopg2
		\item apache2 
		\item libapache2-mod-wsgi 
		\item python-scipy
		\item python-xlrd 
		\item python-xlwt 
		\item python-pip 
		\item redis-server 
		\item libpq-dev
		\item python-dev
		\item ctemplate (librería de template en c++ conocida también como google-template)
	\end{enumerate}
	
	y las siguientes con el uso de pip
	\begin{enumerate}
		\item django==1.8.13+ 
		\item django-mptt 
		\item redis 
		\item django-redis-cache
		\item django-pgjsonb (opcional)
	\end{enumerate}
	
	\section{Terminología}
	Un \textbf{usuario} es un individuo consultor o cliente que tiene acceso a la administración o visualización de resultados en la herramienta por medio de un usuario y una contraseña. Un usuario \textbf{consultor} es la persona encargada de gestionar el ingreso de la mayor parte de la información en los proyecto. Un usuario \textbf{cliente} es la encargada de visualizar resultados. Un \textbf{participante} (denominado colaborador dentro del código) es la persona a la cual le llega el link para llenar las encuestas. Un \textbf{evaluado} es la persona o entidad de la cual se realiza la encuesta. Un \textbf{evaluador} una persona que contesta dichas encuestas. Las apps que tienen la terminación \_360 son código para las características 360 mientras que las que no posean esa terminación (exceptuando usuarios que es \textit{usada} por ambos segmentos) son código para la versión \textit{clásica} del Go.
	
	\chapter{Código: Usuarios}
		
	Es la aplicación columna vertebral del proyecto, se encuentras las tablas que son trasversales a la administración de la aplicación.

	\section{Necesidad}
	
	Se escribió con el objetivo de mantener lo más centralizado posible la aplicación con la tabla proyectos. En una versión anterior ésta tabla pertenecía a \textit{cuestionarios} de manera que se puede notar como aun conserva dicho nombre asociado \textit{``cuestionarios\_proyectos"}. También es importante tener en cuenta que existen dos tipos de proyectos, para esta primera parte los proyectos internos o de colaboradores identificados y los de proyectos externos o colaboradores anónimos, estas últimas se acceden por un único link mientras que las internas se acceden por links que cambian a lo largo del tiempo para cada usuario. También es importante recalcar la diferencia entre proyecto \textit{``360 redes"} y \textit{``360 unico"}; en el primero se hace un uso exhaustivo de las relaciones entre los colaboradores para asignar evaluados a evaluadores mientras que en la última solo se evalúa una entidad y todos los colaboradores son evaluadores de esa entidad.
	
	\section{Funcionalidad}
	
	\subsection{index}
	Controlador de la página index.
		
	\subsubsection{errores} Al formulario le hace falta una buena implementación del formulario de contacto, aprovisionado de una mejor seguridad (captcha).
	
	
	\subsection{acceder} 
	Controlador de la página de logueo.
	
	\subsubsection{errores}
	Al igual que la página de inicio le hace falta un captcha de seguridad que se active a los múltiples intentos fallidos.
	
	\subsection{home}
	Controlador encargado de enlistar los proyectos asociados a cada usuario
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{menu}
	Controlador encargado de la redirección según tipo de usuario al intentar ingresar a un proyecto. Además de fijar en cache el proyecto que se va a visualizar.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha. Se puede depreciar el uso de cache por el de sesiones.

	\subsection{home2}
	Controlador depreciado marcado para ser eliminado.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
		
	\subsection{salir}
	Controlador encargado de destruir las sesiones.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{recuperar}\label{recuperar}
	Controlador encargado de enviar email con los pasos para recobrar contraseñas.
	\subsubsection{errores}
	Al igual que la página de inicio le hace falta un captcha de seguridad.
	
	\subsection{usuariorecuperar}
	Controlador encargado de researle el pasword a los usuarios que realizaron el proceso del controlador  recuperar \ref{recuperar}
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{empresas}
	Controlador encargado de consultar las empresas que cada usuario ha registrado.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{empresaeditar}
	Controlador encargado de proveer los datos para la edición de la empresa
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha. Se podría fusionar con el template de creación.
	
	\subsection{empresaeliminar}
	Controlador encargado de eliminar las empresas.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{empresanueva}
	Controlador encargado de crear empresas. Estas empresas están es asociadas a cada usuario de manera que no son mas que una cualidad de un proyecto, pero estos son dependientes de esta en la base de datos.
	\subsubsection{errores}
	Ninguna conocido.
	
	
	\subsection{proyectonuevo}\label{proyectonuevo}
	Controlador encargado de la creación de proyectos. Los User están asociados de muchos a muchos con los Proyectos, en donde el rango de visibilidad de usuarios depende de su herencia en el árbol de creación.
	\subsubsection{errores}
	En versiones anteriores se ocultaba el botón de creación cuando subían un archivo no imagen, desembocó en errores. Esta característica fue eliminada. No se ha reportado ninguno adicional a la fecha.
	
	\subsection{proyectoeditar}
	Controlador encargado de hacer modificaciones al proyecto. Por motivos de tipos de encuesta y demás muchos los campos no son alterables y se aconseja se mantengan así. Se puede fusionar con el template de renderizado de \ref{proyectonuevo}.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{proyectoeliminar}
	Controlador encargado de marcar proyectos para eliminar, estos son modificados a unas dependencias permanentes. La verdadera eliminación se ejecuta como tarea externa programada.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{usuarios}
	Controlador encargado de mostrar los usuarios creados por cada participante, de manera recursiva, \textit{se pueden ver los usuarios creados por los usuarios que yo haya creado recursivamente unicamente}. Se usa una biblioteca de querys trasversales, \textbf{mptt}, para este propósito.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{usuarioeditar}
	Controlador encargado de editar al usuario accedido.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.

	\subsection{usuarioeliminar}
	Controlador encargado de eliminar usuarios, \textit{que posean credenciales de autenticación}, de la aplicación. Esta eliminación se ejecuta en el acto.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.

	\subsection{usuarioreenviar}
	Controlador encargado de reeviar correos de bienvenida a los usuarios creados que manifiesten la necesidad de ello.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.

	\subsection{usuarioactivar}
	Controlador encargado de darle al bienvenida a un nuevo usuario para la asignación de credenciales y aceptar las políticas de la aplicación.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha. Se debe mejorar mucho la parte visual de este template.
	
	\subsection{usuarionuevo}
	Controlador encargado de ingresar los datos de un nuevo usuario.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.


	\subsection{licencia}
	Controlador ``\textit{decorativo}" que muestra el número de proyectos que ha ``\textit{adquirido}'' y el número de proyectos que ha activado.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.

	\subsection{cuenta}
	Controlador encargado del cambio de contraseña por parte de los usuarios.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.

	\subsection{logs}
	Controlador encargado de mostrar los registros importantes que han ocurrido en la aplicación.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.

	\subsection{reportarerror}
	Controlador encargado de recibir las solicitudes de soporte por parte de los usuarios.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.

	\subsection{términos y privacidad}
	Controladores encargados de renderizar las paginas correspondientes a términos de servicio y políticas de privacidad.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.

	\subsection{e400, e403, e404, e500}
	Controladores de los errores correspondientes. Debido a la ``satanización" de la palabra \textit{error} se ha cambiado por bloqueo gran parte de los textos de estos templates.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	

	\chapter{Código: Colaboradores}
	
	En esta aplicación podremos encontrar las características referentes al almacenamiento de colaboradores, cabe aclarar que por cada proyecto no se puede repetir correo (dato del colaborador).
	
	\section{Necesidad}
	
	Se escribió con el objetivo de manipular los colaboradores de la aplicación esta hace referencia a las tablas \textit{``colaboradores\_*"}. 
	
	\section{Funcionalidad}
	
	\subsection{colaboradores\_ind}
	Controlador encargado de listar individualmente los colaboradores inscritos en el proyecto.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	
	\subsection{colaboradornuevo}
	Controlador encargado de adicionar colaboradores al proyecto.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha, pero se ha criticado frecuentemente que los campos necesarios para agregar un colaborador son exagerados e inútiles en algunos casos, más sin embargo este problema de suavizó en las características 360.
	
	\subsection{colaboradoreditar}
	Controlador encargado de editar los colaboradores registrados en el proyecto.
	\subsubsection{errores} 
	No se ha reportado ninguno a la fecha.
	
	\subsection{colaboradoractivar}
	Controlador encargado de intercambiar el estado activo/inactivo de cada colaborador para el proyecto.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{archivo}
	Controlador encargado de generar el archivo para subir a los colaboradores.
	\subsubsection{errores}\label{e_archivo}
	En los últimos días se presentó problemas con respecto al formato del archivo es importante revisar que tanto en la generación como la subida de datos el formato esté coincidente. No se realizó exhaustivamente ya que esta sección del código no se ha decidido su mantenimiento o depreciación por la versión 360.

	\subsection{colaboradores\_xls}
	Controlador encargado de recibir el archivo con los datos de los colaboradores.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha con respecto al guardado excepto los mismos que en \ref{e_archivo}

	\subsection{colaboradoreliminar}
	Controlador encargado de eliminar \textit{inmediatamente} al colaborador.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.


	\chapter{Código: Cuestionarios}
	
	En esta aplicación podremos encontrar las características referentes al almacenamiento variables y preguntas.
	
	\section{Necesidad}
	
	Se escribió con el objetivo de manipular las variables y preguntas, aquellas son agrupaciones de preguntas. Esta asociada a las tablas  \textit{``cuestionarios\_*"}. 
	
	\section{Funcionalidad}

	\subsection{variables}
	Controlador encargado de listar las variables del proyecto.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{preguntas}
	Controlador encargado de listar las preguntas del proyecto.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{variablenueva}
	Controlador encargado de la creación de nuevas variables para el proyecto.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{variableactivar}
	Controlador encargado de intercambiar el estado activo/inactivo de una variable.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{preguntanueva}
	Controlador encargado de almacenar una nueva pregunta para una variable.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{preguntactivar}
	Controlador encargado de intercambiar el estado activo/inactivo de una pregunta.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{variableditar}
	Controlador encargado de la edición de una variable.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{preguntaeditar}
	Controlador encargado de editar una pregunta.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{variableclonar}
	Controlador encargado de copiar una variable dentro del proyecto.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{preguntaclonar}
	Controlador encargado de copiar preguntas dentro de una variable.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{variableliminar}
	Controlador encargado de marcar para eliminar una variable moviéndola al proyecto maestro (id = 1).
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{preguntaeliminar}
	Controlador encargado de marcar para eliminar asignándola a la variable maestra (id = 1 ).
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{preencuesta}
	Controlador encargado de una visualización previa de las variables y preguntas del proyecto.
	\subsubsection{errores}
	No se implemento su html por lo tanto no está accesible.
	

	\chapter{Código: Mensajería}
	
	En esta aplicación podremos encontrar las características referentes a las condiciones de despliegue de cada proyecto.
	
	\section{Necesidad}
	
	Se escribió con el objetivo de asignar los parámetros de envío del proyecto, al igual que manipular las asignaciones de preguntas a los usuarios y renderizar a necesidad las preguntas a los colaboradores. \textit{``mensajeria\_*"}. 
	
	\section{Funcionalidad}
		
	\subsection{gosurvey}
	Controlador encargado de asignar los parámetros necesarios para ejecutar un proyecto.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha. Debido a un error de planeación y dimensionalidad, \textit{no conocía las cantidades de datos que se pretendían manipular aquí}, verificar si cada colaborador posee cada pregunta del cuestionario al detener el proyecto posee un costo muy alto, se debe optar por realizar este procedimiento al agregar una nueva pregunta.
	
	\subsection{detalladas}
	Controlador encargado de renderizar el html para acceder al excel de las respuestas. Anteriormente renderizaba las respuestas en pantalla pero se decidió eliminar y solo dejar el botón  de exportación.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{metricas}
	Controlador encargado de listar los colaboradores y las métricas con respecto al proyecto
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{colaboradoractivarmensajeria}
	Controlador encargado de activar/desactivar un colaborador.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{colaboradoreenviar}
	Controlador encargado de forzar los emails a cada colaborador.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{encuesta}
	Controlador encargado de renderizar a los colaboradores sus encuestas.
	\subsubsection{errores}
	El template de este controlador es crítico y está muy poco pulido debido a la priorización en pro de características de cara al usuario tipo consultor. Se recomienda en caso de mantener este código replantear su estructura. Adicionalmente usar un sistema para organizar las preguntas en el mismo orden de introducción ya que el id puede resultar algo azaroso.
	
	\subsection{encuestaexterna}
	Controlador encargado de renderizar a los colaboradores de proyectos externos es decir encuestas de usuarios \textit{anónimos}.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{encuestaexterna2}
	Controlador encargado de preguntar para volver a renderizar para reiniciar la encuesta finalizada.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{exportarexterna}
	Controlador encargado de exportar las respuestas de proyectos externos.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{exportarinterna}
	Controlador encargado de exportar las respuestas de los proyectos internos.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{importarespuestas\_exportar}
	Controlador encargado de generar el excel necesario para importar respuestas desde excel para proyectos internos.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha. 
	
	\subsection{importarespuestas\_preguntas}
	Controlador encargado de guardar las respuestas a preguntas del proyecto, manualmente, en proyectos internos.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha. Dada la introducción de las preguntas tipo cuerpo humano este controlador no ha sido verificado para su compatibilidad, además debido a que nunca se usó ni se probó rigurosamente su estado de estabilidad es desconocido.
	
	
	\chapter{Código: Análisis}
	
	En esta aplicación podremos encontrar las características referentes a las gráficas de los resultados del proyecto.
	
	\section{Necesidad}
	
	Se escribió con el objetivo de mostrar eficientemente grandes volúmenes de datos (los datos de las encuestas) renderizando desde el servidor. Debido a problemas en escalabilidad con respecto a número de preguntas y de colaboradores esta sección se optimizó en un 50\%, aproximadamente, con C++ integrado en python. Aunque es redundante, recalco que es importante recompilar estos binarios al intentar desplegar. Esta parte de la aplicación tiene un fuerte componente de javascript que puede ser muy enriquecido si se opta por mantener el código.
	
	\section{Funcionalidad}
		

	\subsection{humanize}
	Controlador encargado de generar un string del tiempo restante en formato amigable para el usuario, se puede depreciar en favor de moment.js
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{participacion}
	Controlador encargado de mostrar un mensaje en caso de no existir datos o pasarlos a función compilada de c++ para su procesamiento. Aquí se muestra la participación de TODO el proyecto.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{general}
	Controlador encargado de mostrar un mensaje en caso de no existir datos o pasarlos a función compilada de c++ para su procesamiento. Aquí se muestra un \textit{``análisis"} global de los resultados.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha. Hay un asunto por resolver con respecto a el escape de html, por ahora se está omitiendo en pro de que las gráficas funcionen correctamente. 
	
	\subsection{focalizado}
	Controlador encargado de mostrar un mensaje en caso de no existir datos o pasarlos a función compilada de c++ para su procesamiento. Aquí se muestra un \textit{``análisis"} un poco más específico de los resultados.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha. Hay un asunto por resolver con respecto a el escape de html, por ahora se está omitiendo en pro de que las gráficas funcionen correctamente. 
	
	\subsection{solucion}
	Controlador encargado de limpiar los textos de las respuestas abiertas para entrada de los grafos.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{wordanalytics}
	Controlador encargado de recoger las preguntas abiertas del proyecto, y entrega tres variables: grafoPorPregunta, diccionariosPorPregunta, cantidades. Donde diccionarioPorPregunta es la lista de las palabras encontradas en todas las textos y entrega el grafo. Cada número es la cantidad de veces que se encuentra cada palabra del diccionarioPorPregunta.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{cuerpo}
	Controlador encargado de extraer los datos necesarios para graficar resultados para las preguntas de tipo cuerpo humano. 
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.


	\chapter{Código: Cuestionarios\_360}
	
	En esta aplicación podremos encontrar las características referentes a los componentes de las preguntas de los cuestionarios 360.
	
	\section{Necesidad}
	
	Se escribió con el objetivo de administrar de una forma un poco más natural lo que se realizo en el la aplicación cuestionarios. Adicionalmente aquí manejamos el concepto siguiente: las preguntas están agrupadas en variables, estas a su ves están agrupadas en dimensiones, a su vez estas están agrupadas en instrumentos y finalmente un proyecto de tipo \textit{``360 redes"} en su tipo puede poseer muchos instrumentos, mientras que el tipo \textit{``360 unico"} solo puede poseer un instrumento.
	
	\section{Funcionalidad}

	\subsection{instrumentos}
	Controlador encargado de listar todos los instrumentos del proyecto.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{dimensiones}
	Controlador encargado de listar todas las dimensiones del instrumento.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{variables\_360}
	Controlador encargado de listar todas las variables de la dimensión.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{preguntas\_360}
	Controlador encargado de listar todas las preguntas de una variable.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{instrumentonuevo}
	Controlador encargado de guardar un nuevo instrumento en un proyecto.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{dimensionueva}
	Controlador encargado de guardar una nueva dimensión para un instrumento. 
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{variablenueva\_360}
	Controlador encargado de guardar una nueva variable para una dimensión.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{preguntanueva\_360}
	Controlador encargado de guardar una nueva pregunta para una variable.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{instrumentoactivar}
	Controlador encargado de activar/desactivar el instrumento y sus dependientes.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{dimensionactivar}
	Controlador encargado de activar/desactivar la dimensión y sus dependientes.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{variableactivar\_360}
	Controlador encargado de activar/desactivar la variable y sus dependientes.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{preguntactivar\_360}
	Controlador encargado de activar/desactivar la pregunta.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{instrumentoeditar}
	Controlador encargado de editar un instrumento.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{dimensioneditar}
	Controlador encargado de editar una dimensión.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{variableditar\_360}
	Controlador encargado de editar una variable.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{preguntaeditar\_360}
	Controlador encargado de editar una pregunta.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{preguntaclonar\_360}
	Controlador encargado de copiar una pregunta dentro de la variable.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{preguntaeliminar\_360}
	Controlador encargado de marcar para eliminar un pregunta moviéndola a unas dependencias permanentes para postergar su eliminación.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{variableliminar\_360}
	Controlador encargado de marcar para eliminar una variable moviéndola a unas dependencias permanentes para postergar su eliminación.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{dimensioneliminar}
	Controlador encargado de marcar para eliminar una dimensión moviéndola a unas dependencias permanentes para postergar su eliminación.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{instrumentoeliminar}
	Controlador encargado de marcar para eliminar un instrumento moviéndola a unas dependencias permanentes para postergar su eliminación.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{previsualizacion\_360}
	Controlador encargado de previsualizar completamente el instrumento seleccionado.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{exportar\_instrumento\_360}
	Controlador encargado de generar un excel con los datos de un instrumento, para su portabilidad a otros instrumentos.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{plantilla\_instrumento\_360}
	Controlador encargado de generar un excel plantilla vacío para ingresar un instrumento desde cero.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{importar\_instrumento\_360}
	Controlador encargado de leer el excel con los datos del instrumento y registrarlo al proyecto.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.


	\chapter{Código: Colaboradores\_360}
	
	En esta aplicación podremos encontrar las características referentes a los componentes de los colaboradores 360.
	
	\section{Necesidad}
	
	Se escribió con el objetivo de administrar de una forma un poco más natural lo que se realizo en el la aplicación colaboradores. Adicionalmente se agregó un nuevo tipo de colaborador \textit{externo} para el cual se relajaron los requerimientos para guardarse dentro del proyecto.

	\section{Funcionalidad}


	\subsection{colaboradores\_ind\_360}
	Controlador encargado de listar a los colaboradores del proyecto.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{colaboradornuevo\_360}
	Controlador encargado de guardar individualmente a un colaborador dentro del proyecto.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{colaboradoreditar\_360}
	Controlador encargado de editar las propiedades de un colaborador.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{colaboradoractivar\_360}
	Controlador encargado de intercambiar los estados activo/inactivo de un colaborador.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{archivo\_360}
	Controlador encargado de generar el excel para completar datos para subir colaboradores.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{colaboradores\_xls\_360}
	Controlador encargado de guardar los colaboradores que se suben desde archivo excel.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha. Mas sin embargo es importante validar que los formatos estén consistentes para evitar errores.
	
	\subsection{colaboradoreliminar\_360}
	Controlador encargado de eliminar inmediatamente un colaborador.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{roles\_360}
	Controlador encargado de listar los roles del proyecto.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{rolnuevo\_360}
	Controlador encargado de guardar un nuevo rol al proyecto.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{roleditar\_360}
	Controlador encargado de editar un rol del proyecto.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{roleliminar\_360}
	Controlador encargado de eliminar un rol del proyecto.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.


	\chapter{Código: Redes\_360}
	
	En esta aplicación podremos encontrar las características referentes a los componentes de las redes en 360.
	
	\section{Necesidad}
	
	Para los proyectos de único evaluado solo se tiene una red por defecto que se crea al momento de crear un proyecto de este tipo, a los de múltiples evaluados se tiene como centro administrativo esta aplicación para las redes. Recuerde que una red es una relación de dos colaboradores no distintos, uno como evaluador y otro como evaluado, estos dos se relacionan con un único rol y el evaluador responde un instrumento asignado por el consultor.
	
	\section{Funcionalidad}

	\subsection{redes\_360}
	Controlador encargado de listar las redes del proyecto en caso de que sea único evaluado esta página es inaccesible. 
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{rednueva\_360}
	Controlador encargado de guardar una nueva red para el proyecto. Tenga en cuenta que un evaluado y un evaluador se relacionan por un único rol.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{reditar\_360}
	Controlador encargado de editar una red del proyecto. Tenga en cuenta que un evaluado y un evaluador se relacionan por un único rol.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{redeliminar\_360}
	Controlador encargado de eliminar inmediatamente una red.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{redes\_archivo\_generar}
	Controlador encargado de generar el archivo de excel para subir las redes.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{redes\_xls\_360}
	Controlador encargado de guardar las redes subidas por excel. Tenga en cuenta que un evaluado y un evaluador se relacionan por un único rol.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{redes\_activar\_360}
	Controlador encargado de activar/desactivar una red.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.


	\chapter{Código: Mensajería\_360}
	
	En esta aplicación podremos encontrar las características referentes a los componentes de la configuración de envío del proyecto 360.
	
	\section{Necesidad}
	Al igualo que con mensajería este modulo requiere que se agregue la capacidad que al agregar una nueva pregunta se agreguen al streaming ya que si se deja al botón actualizar datos el costo de verificación es muy alto.
	
	\section{Funcionalidad}


	\subsection{gosurvey\_360}
	Controlador encargado de verificar que el streaming este completo (cada pregunta para cada red).
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha. Es necesario dividir este controlador funcionalmente para que su mantenimiento sea viable.
	
	\subsection{metricas\_360}
	Controlador encargado de listar las métricas de los usuarios evaluadores en un modo general.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{metricas\_ind\_360}
	Controlador encargado de mostrar las métricas de cada evaluador para cada una de sus redes.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{colaboradoreenviar}
	Controlador encargado de forzar manualmente el envío de la encuesta a un colaborador.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{encuesta\_360}
	Controlador encargado de renderizar las preguntas que un colaborador debe responder para cada red. Una con cada vez de interacción.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha. Se debe dividir funcionalmente para que su mantenimiento sea mas viable.
	
	\subsection{detalladas\_360}
	Controlador encargado de renderizar la pagina con el botón de exportación.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{exportarinterna\_360}
	Controlador encargado de exportar excel para importar las respuestas del proyecto.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha. No se ha comprobado compatibilidad con el tipo de pregunta cuerpo humano.
	
	\subsection{importarespuestas\_exportar\_360}
	Controlador no implementado para exportar excel con redes para llenar respuesta manualmente
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{importarespuestas\_preguntas\_360}
	Controlador no implementado para guardar las respuestas subidas manualmente con archivo. 
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	
	
	\chapter{Código: Apéndice A - gogo}
	
	Se describirá cada uno de las funciones de los archivos contenidos en la carpeta gogo interna.
	
	\section{Necesidad}
	
	Se escribieron unos scripts internos programados con el gestor de tareas de unix para su ejecucíon.
	
	\subsection{contador}
	Script que contendría el \textit{pre-procesamiento} de los datos para la visualización de los datos del proyecto tipo 360. No se han escrito los models de almacenamiento para ello.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{escoba}
	Script de eliminación de datos en la base que estén marcados para eliminar, en el servidor se tienen con 60 días de posibilidades de recuperación manual.
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	\subsection{mensajero}
	Script de envío de correos basado en el promedio de tiempo de demora en la respuesta de los usuarios. Esta pensado en horas y teniendo en cuenta las métricas de respuesta.  
	\subsubsection{errores}
	No se ha reportado ninguno a la fecha.
	
	
\end{document}
